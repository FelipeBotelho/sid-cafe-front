<div class="bg-white rounded-xl shadow-md overflow-hidden">
  <div class="p-4 border-b">
    <h2 class="text-xl font-bold text-coffee-900">Lista de Vendas</h2>
  </div>
  
  <div class="overflow-x-auto">
    <table class="w-full text-left">
      
      <thead class="bg-coffee-100">
        <tr>
          <th class="p-4 font-bold text-coffee-800">ID</th>
          <th class="p-4 font-bold text-coffee-800">Itens</th>
          <th class="p-4 font-bold text-coffee-800">Total</th>
          <th class="p-4 font-bold text-coffee-800">Data</th>
          <th class="p-4 font-bold text-coffee-800">Status</th>
          <th class="p-4 font-bold text-coffee-800">Ação</th>
        </tr>
      </thead>
      
      <tbody>
        @for (sale of sales; track sale.id) {
          <tr class="border-t">
            <td class="p-4 font-mono text-sm text-coffee-500">
              #{{ sale.id.substring(1, 8) }}
            </td>
            <td class="p-4 text-coffee-800">
              <div class="space-y-1">
                @for (item of sale.items; track item.productId) {
                  <div class="text-sm">
                    {{ item.quantity }}x {{ getProductName(item.productId) }}
                  </div>
                }
              </div>
            </td>
            <td class="p-4 font-semibold text-coffee-900">
              {{ formatCurrency(sale.total) }}
            </td>
            <td class="p-4 text-coffee-800">
              {{ formatDate(sale.createdAt) }}
            </td>
            <td class="p-4">
              <span 
                [class]="getStatusChipClass(sale.status)" 
                class="inline-flex items-center px-2 py-1 text-xs font-medium rounded-full"
              >
                <mat-icon class="text-sm mr-1">{{ getStatusIcon(sale.status) }}</mat-icon>
                {{ sale.status }}
              </span>
            </td>
            <td class="p-4">
              <select 
                [value]="sale.status" 
                (change)="onStatusChange(sale.id, $event)"
                class="w-full px-3 py-2 border border-coffee-200 rounded-md shadow-sm focus:outline-none focus:ring-coffee-500 focus:border-coffee-500 bg-white text-sm"
              >
                @for (status of statusOptions; track status) {
                  <option [value]="status">{{ status }}</option>
                }
              </select>
            </td>
          </tr>
        }
      </tbody>
    </table>
  </div>

  <!-- Empty state -->
  @if (sales.length === 0) {
    <div class="text-center py-12">
      <mat-icon class="text-6xl text-coffee-400 mb-4">receipt</mat-icon>
      <h3 class="text-xl font-semibold text-coffee-800 mb-2">Nenhuma venda encontrada</h3>
      <p class="text-coffee-600">Crie sua primeira venda para começar.</p>
    </div>
  }
</div>